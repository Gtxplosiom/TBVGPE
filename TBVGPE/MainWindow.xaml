<Window x:Class="TBVGPE.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TBVGPE"
        xmlns:ControllerViews="clr-namespace:TBVGPE.Views.Presets"
        xmlns:ControllerViewModels="clr-namespace:TBVGPE.ViewModels.Controllers"
        mc:Ignorable="d"
        Title="MainWindow"
        WindowStartupLocation="Manual"
        Left="0" Top="0"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        Focusable="False">

    <Window.Resources>
        <!-- TODO: Fix the buttons not changing color when pressed -->
        <DataTemplate DataType="{x:Type ControllerViewModels:GBAControllerViewModel}">
            <ControllerViews:GBAControllerLayout />
        </DataTemplate>
        <DataTemplate DataType="{x:Type ControllerViewModels:DSControllerViewModel}">
            <ControllerViews:DSControllerLayout />
        </DataTemplate>
        <DataTemplate DataType="{x:Type ControllerViewModels:Xbox360ControllerViewModel}">
            <ControllerViews:Xbox360ControllerLayout />
        </DataTemplate>
        <DataTemplate DataType="{x:Type ControllerViewModels:_3DSControllerViewModel}">
            <ControllerViews:_3DSControllerLayout />
        </DataTemplate>
        <DataTemplate DataType="{x:Type ControllerViewModels:PS4ControllerViewModel}">
            <ControllerViews:PS4ControllerLayout />
        </DataTemplate>
        <DataTemplate DataType="{x:Type ControllerViewModels:SwitchControllerViewModel}">
            <ControllerViews:SwitchControllerLayout />
        </DataTemplate>
        
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" /> <!-- para ma fill an rest na diri gagamit ngan ma anchor ha ubos an utility ngan controller -->
            <RowDefinition Height="Auto"/>
            <!-- TODO: Make the row height below dynamic kay an controller layouts iba iba an heights -->
            <RowDefinition Height="540"/>
        </Grid.RowDefinitions>

        <StackPanel x:Name="UtilityButtons" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10" Grid.Row="1">
            <Button 
                x:Name="CloseApplicationBtn"
                Content="Close Application" 
                Command="{Binding CloseApplicationCommand}"
                Width="120" Height="35"
                FontSize="14" FontWeight="Bold"
                Foreground="White" Background="#AAA"
                Margin="10,0,0,0"
                Visibility="{Binding CloseAppToggleControllerSliderBtnVisibility}"/>

            <Button 
                x:Name="ToggleControllerBtn"
                Content="{Binding ToggleControllerText}" 
                Command="{Binding ToggleControllerCommand}"
                Width="120" Height="35"
                FontSize="14" FontWeight="Bold"
                Foreground="White" Background="#AAA"
                Margin="10,0,0,0"
                Visibility="{Binding CloseAppToggleControllerSliderBtnVisibility}"/>

            <Slider
                x:Name="ControllerTransparencySlider"
                Minimum="0.0"
                Maximum="1.0"
                Value="{Binding ControllerTransparency}"
                Width="120" Height="35"
                Margin="10,0,0,0"
                Visibility="{Binding CloseAppToggleControllerSliderBtnVisibility}"/>

            <Button 
                x:Name="toggleMenuBtn"
                Content="{Binding ToggleMenuText}" 
                Command="{Binding ToggleMenuCommand}"
                Width="120" Height="35"
                FontSize="14" FontWeight="Bold"
                Foreground="White" Background="#AAA"
                Margin="10,0,0,0"/>
        </StackPanel>

        <!-- margin is 100 para umigbaw ngan diri mag overlap ha taskbar -->
        <!-- Dapat an height hini dynamic lat kay amo ini an controller placeholder/container -->
        <ContentControl Grid.Row="2"
                        Content="{Binding CurrentControllerViewModel}"
                        Height="500"
                        VerticalAlignment="Bottom"
                        Margin="0,0,0,40"
                        Visibility="{Binding ControllerVisibility}"
                        Opacity="{Binding ControllerTransparency}"/>
    </Grid>
</Window>
